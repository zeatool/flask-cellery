<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Flask cellery Graph Weight</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('static',filename='css/main.css') }}">
</head>
<body>
<div class="container">
    <h4>Загрузить файл</h4>
    <form class="form-inline" action="/upload" method="post" enctype="multipart/form-data">
        <input type="file" name="tree" class="form-control">
        <button class="btn btn-success" type="submit">Загрузить</button>
    </form>
    <h4>Список файлов:</h4>
    <div class="col-md-12">
        <table class="task-table table table-bordered">
            <thead>
            <tr>
                <th>Дата добавления</th>
                <th>Состояние</th>
                <th>Обработано узлов</th>
                <th>Вес графа</th>
            </tr>
            {% for task in tasks %}
                <tr class="js-data-row {% if task.state != 'SUCCESS' and  task.state != 'FAILURE' %}js-data-row-active{% endif %}" data-id="{{ task.task_id }}">
                    <td>{{ task.date_add.strftime("%d.%m.%Y %H:%M:%S") }}</td>
                    <td class="js-task-state">{{ task.state }}</td>
                    <td class="js-task-count">{{ task.count }}</td>
                    <td class="js-task-weight">{{ task.weight }}</td>
                </tr>
            {% endfor %}
            </thead>
        </table>
    </div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
        integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous"></script>
<script src="{{ url_for('static',filename='js/main.js') }}"></script>
</body>
</html>